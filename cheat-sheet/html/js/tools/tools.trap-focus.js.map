{"version":3,"file":"tools.trap-focus.js","names":["trapFocus","elem","tabbable","$","find","filter","firstTabbable","first","lastTabbable","last","setTimeout","focus","on","e","key","shiftKey","preventDefault","unTrapFocus","lastFocused"],"sources":["tools/tools.trap-focus.js"],"mappings":"AAIA,SAASA,UAAUC,GACf,IAAIC,EAAWC,EAAEF,GAAMG,KAAK,sCAAsCC,OAAO,YAErEC,EAAgBJ,EAASK,QACzBC,EAAeN,EAASO,OAE5BC,YAAW,WACPJ,EAAc,GAAGK,UAClB,KAKHH,EAAaI,GAAG,WAAW,SAASC,GACjB,QAAVA,EAAEC,KAAkBD,EAAEE,WACvBF,EAAEG,iBACFV,EAAc,GAAGK,YAKzBL,EAAcM,GAAG,WAAW,SAASC,GAClB,QAAVA,EAAEC,KAAiBD,EAAEE,WACtBF,EAAEG,iBACFR,EAAa,GAAGG,YAK5B,SAASM,YAAYC,GACjBA,EAAYP","sourcesContent":["/** \n * Trap focus\n */\n\nfunction trapFocus(elem) {\n    let tabbable = $(elem).find('select, input, textarea, button, a').filter(':visible');\n\n    let firstTabbable = tabbable.first();\n    let lastTabbable = tabbable.last();\n    /*set focus on first input*/\n    setTimeout(function() {\n        firstTabbable[0].focus();\n    }, 200);\n\n\n    /*redirect last tab to first input*/\n\n    lastTabbable.on('keydown', function(e) {\n        if ((e.key === 'Tab' && !e.shiftKey)) {\n            e.preventDefault();\n            firstTabbable[0].focus();\n        }\n    });\n\n    /*redirect first shift+tab to last input*/\n    firstTabbable.on('keydown', function(e) {\n        if ((e.key === 'Tab' && e.shiftKey)) {\n            e.preventDefault();\n            lastTabbable[0].focus();\n        }\n    });\n}\n\nfunction unTrapFocus(lastFocused) {\n    lastFocused.focus();\n}"]}